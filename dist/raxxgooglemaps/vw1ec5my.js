/*! Built with http://stenciljs.com */
const{h:e}=window.raxxgooglemaps;class t{constructor(){this.markers=[]}render(){return e("div",{id:"google-map-container"})}componentDidLoad(){this.init().then(()=>{console.log("Google Maps ready.")},e=>{console.log(e)})}init(){return new Promise((e,t)=>{this.loadSDK().then(()=>{this.initMap().then(()=>{e(!0)},e=>{t(e)})},e=>{t(e)})})}loadSDK(){return new Promise(e=>{this.injectSDK().then(()=>e())})}injectSDK(){return new Promise((e,t)=>{window.mapInit=(()=>{e(!0)});let o=document.createElement("script");o.id="googleMaps",this.apikey?(o.src="https://maps.googleapis.com/maps/api/js?key="+this.apikey+"&callback=mapInit",document.body.appendChild(o)):t("API Key not supplied")})}initMap(){return new Promise(e=>{navigator.geolocation.getCurrentPosition(t=>{console.log(t);let o={center:new google.maps.LatLng(t.coords.latitude,t.coords.longitude),zoom:15};this.map=new google.maps.Map(document.getElementById("google-map-container"),o),e(!0)})})}addMarker(e,t){let o=new google.maps.LatLng(e,t),n=new google.maps.Marker({map:this.map,animation:google.maps.Animation.DROP,position:o});this.markers.push(n)}getCenter(){return this.map.getCenter()}static get is(){return"raxx-google-maps"}static get properties(){return{addMarker:{method:!0},apikey:{type:String,attr:"apikey"},getCenter:{method:!0}}}static get style(){return"raxx-google-maps{width:100%;height:100%}#google-map-container{width:100%;height:100%}"}}export{t as RaxxGoogleMaps};